@model ClientSaleApi.Models.Users.UserEx

@{
	ViewData["Title"] = "Edit";
	Layout = "~/Areas/Admin/Views/Shared/_LayoutDashboard.cshtml";

}

<div class="single-product-tab-area mg-b-30">
	<!-- Single pro tab review Start-->
	<div class="single-pro-review-area">
		<div class="container-fluid">
			<div class="row">
				<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
					<div class="review-tab-pro-inner">
						<form id="formId" asp-area="Admin" asp-controller="Users" asp-action="@(Model == null ? "Them" : "CapNhat")" asp-route-userid="@(Model?.UserId)" method="post">
							<div class="tab-content custom-product-edit">
								<div class="product-tab-list tab-pane fade active in" id="description">
									<div class="row">
										<div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
											<div class="review-content-section">
												@if (Model != null)
												{
													<div class="input-group mg-b-pro-edt" style="display:none">
														<span class="input-group-addon"><i class="icon nalika-new-file" aria-hidden="true"></i></span>
														<input asp-for="UserId" type="text" class="form-control" aria-describedby="text" readonly>
													</div>
												}
												<div class="input-group mg-b-pro-edt">
													<span class="input-group-addon"><i class="icon nalika-edit" aria-hidden="true"></i></span>
													<input asp-for="RoleName" list="roles" class="form-control pro-edt-select form-control-primary" placeholder="Tìm hoặc chọn danh mục" autocomplete="off" aria-describedby="text">
													<datalist id="roles"></datalist>
													<span asp-validation-for="RoleName" class="text-danger"></span>
												</div>
												<div class="input-group mg-b-pro-edt">
													<span class="input-group-addon"><i class="icon nalika-edit" aria-hidden="true"></i></span>
													<input type="text" asp-for="UserName" class="form-control pro-edt-select form-control-primary" placeholder="Nhập UserName" aria-describedby="text" required>
													<span asp-validation-for="UserName" class="text-danger"></span>
												</div>
												<div class="input-group mg-b-pro-edt">
													<span class="input-group-addon"><i class="icon nalika-edit" aria-hidden="true"></i></span>
													<input type="email" asp-for="Email" class="form-control pro-edt-select form-control-primary" placeholder="Nhập Email" aria-describedby="text" required>
													<span asp-validation-for="Email" class="text-danger"></span>
												</div>
												<div class="input-group mg-b-pro-edt">
													<span class="input-group-addon"><i class="icon nalika-edit" aria-hidden="true"></i></span>
													<input type="password" asp-for="Password" class="form-control" placeholder="Mật khẩu tối thiểu 6 ký tự, bao gồm chữ thường, chữ hoa, số và ký tự đặc biệt (#, !,...)" aria-describedby="text" required>
													<span asp-validation-for="Password" class="text-danger"></span>
												</div>
												<div class="input-group mg-b-pro-edt">
													<span class="input-group-addon"><i class="icon nalika-edit" aria-hidden="true"></i></span>
													<input asp-for="ConfirmPassword" type="password" class="form-control" placeholder="Xác nhận mật khẩu" aria-describedby="text" required>
													<span asp-validation-for="ConfirmPassword" class="text-danger"></span>
												</div>
												<div class="input-group mg-b-pro-edt form-check">
													<input name="IsActive" id="kichhoat" class="form-check-input" type="checkbox" @(Model?.IsActive == true ? "checked" : "") />
													<label asp-for="IsActive" class="form-check-label" style="color: white; margin-left: 10px;"> Kích hoạt</label>
												</div>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
											<div class="text-center custom-pro-edt-ds">
												<button type="submit" id="@((Model == null) ?"them" : "capnhat")"
														class="btn btn-ctl-bt waves-effect waves-light m-r-10">
													@((Model == null) ? "Add" : "Update")
												</button>
												<button type="reset" class="btn btn-ctl-bt waves-effect waves-light" value="Reset">
													Reset
												</button>
											</div>
										</div>
									</div>
								</div>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<script type="text/javascript">
	$(document).ready(function () {
		$.ajax({
			url: '/tai-khoan/danh-sach-role',
			type: 'GET',
			success: function (data) {
				$('#roles').empty();
				// Thêm các option mới vào datalist
				data.forEach(function (item) {
					$('#roles').append('<option value="' + item + '">' + item + '</option>');
				});
				console.log(data);
			},
			error: function (jqXHR, textStatus, errorThrown) {
				console.log('Error calling api:', textStatus, errorThrown);
			}
		});
	});

</script>






